<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lonchera M√°gica - Selecci√≥n de Men√∫</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'DM Sans', sans-serif;
    }

        /* Fondo borroso con overlay */
    #bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url('https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=1600&q=80');
      background-size: cover;
      background-position: center;
      filter: blur(4px);
      z-index: -2;
    }

    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(255, 255, 255, 0.65);
      z-index: -1;
    }

    #mobileMenu {
      flex-direction: column;
      align-items: center;
      gap: 1.5rem;
      position: fixed; /* fijo al hacer scroll */
      top: 4rem; /* justo debajo del navbar */
      left: 0;
      width: 100%;
      background-color: rgba(255, 140, 0, 0.95);
      text-align: center;
      padding: 1.5rem 0;
      border-radius: 0 0 1rem 1rem;
      z-index: 50;
      transition: all 0.3s ease-in-out;
    }

    #mobileMenu a {
      font-size: 1.25rem;
      font-weight: 500;
      text-decoration: none;
      transition: background 0.3s;
    }

    #mobileMenu a:hover {
      background-color: rgba(255, 165, 0, 0.8); /* hover naranja m√°s intenso */
    }
  </style> 
</head>
<body class="bg-gradient-to-b from-orange-50 to-yellow-100 text-gray-800">

  <div id="bg"></div>
  <div class="overlay"></div>

  <!-- NAVBAR -->
  <header id="siteHeader" class="absolute top-0 left-0 w-full z-50">
    <nav class="flex items-center justify-between px-4 md:px-6 py-4 max-w-7xl mx-auto">
      <div class="flex items-center space-x-3">
        <img src="assets/logo.png" alt="Logo" class="h-10 w-10 md:h-12 md:w-12">
        <span class="text-xl md:text-2xl font-bold text-black drop-shadow-md">Lonchera M√°gica</span>
      </div>
      <ul class="hidden md:flex space-x-6 md:space-x-8 text-lg font-medium text-black drop-shadow-md">
        <li><a href="index.html">Inicio</a></li>
        <li><a href="menus.html">Men√∫s</a></li>
        <li><a href="blog.html">Blog</a></li>
        <li><a href="seleccion.html" class="text-orange-600">Selecci√≥n</a></li>
        <li><a href="contacto.html">Contacto</a></li>
      </ul>
      <div class="md:hidden text-3xl cursor-pointer text-black" id="menuToggle">‚ò∞</div>
    </nav>
    <!-- Men√∫ m√≥vil -->
    <!-- Men√∫ m√≥vil -->
    <div id="mobileMenu" class="hidden md:hidden flex-col items-center bg-orange-500/95 text-white py-6 fixed top-16 left-0 w-full z-50 rounded-b-xl">
      <a href="index.html" class="block py-2 px-4 hover:bg-orange-600 w-full text-center">Inicio</a>
      <a href="menus.html" class="block py-2 px-4 hover:bg-orange-600 w-full text-center">Men√∫s</a>
      <a href="blog.html" class="block py-2 px-4 hover:bg-orange-600 w-full text-center">Blog</a>
      <a href="seleccion.html" class="block py-2 px-4 hover:bg-orange-600 w-full text-center">Selecci√≥n</a>
      <a href="contacto.html" class="block py-2 px-4 hover:bg-orange-600 w-full text-center">Contacto</a>
    </div>
  </header>

  <!-- FORMULARIO -->
  <section class="pt-28 px-6 max-w-4xl mx-auto">
    <h2 class="text-4xl font-extrabold text-orange-700 mb-10 text-center">Elige tu Men√∫ Semanal</h2>

    <form id="menuForm" class="bg-white p-8 rounded-xl shadow-lg space-y-6">
      <div>
        <label class="block text-lg font-medium mb-2">Nombre del ni√±o</label>
        <input type="text" id="nombre" class="w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-orange-500" required>
      </div>
      <div>
        <label class="block text-lg font-medium mb-2">Edad</label>
        <input type="number" id="edad" class="w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-orange-500" required>
      </div>

      <!-- Men√∫ base ya estipulado -->
      <div class="bg-orange-100 p-4 rounded-lg shadow-md">
        <h3 class="font-bold text-orange-700 mb-2">Men√∫ Base del Colegio üçé</h3>
        <ul class="list-disc list-inside text-gray-700">
          <li><strong>Lunes:</strong> S√°ndwich integral, ensalada de frutas y jugo natural</li>
          <li><strong>Martes:</strong> Yogurt con granola y frutas frescas</li>
          <li><strong>Mi√©rcoles:</strong> Fresas con crema (versi√≥n saludable)</li>
          <li><strong>Jueves:</strong> Pancakes de avena con fruta fresca y miel</li>
          <li><strong>Viernes:</strong> Tacos de pollo desmechado, verdura salteada y limonada</li>
        </ul>
      </div>

      <!-- Men√∫s por d√≠a -->
      <p class="text-lg font-medium text-gray-700 mt-4">Puedes personalizar si lo deseas:</p>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label class="block font-medium mb-2">Lunes</label>
          <select id="lunes" class="w-full border rounded-lg p-3">
            <option>S√°ndwich integral, ensalada de frutas y jugo natural</option>
            <option>Yogurt con granola y frutas frescas</option>
            <option>Fresas con crema (versi√≥n saludable)</option>
            <option>Pancakes de avena con fruta fresca y miel</option>
            <option>Tacos de pollo desmechado, verdura salteada y limonada</option>
          </select>
        </div>
        <div>
          <label class="block font-medium mb-2">Martes</label>
          <select id="martes" class="w-full border rounded-lg p-3">
            <option>S√°ndwich integral, ensalada de frutas y jugo natural</option>
            <option>Yogurt con granola y frutas frescas</option>
            <option>Fresas con crema (versi√≥n saludable)</option>
            <option>Pancakes de avena con fruta fresca y miel</option>
            <option>Tacos de pollo desmechado, verdura salteada y limonada</option>
          </select>
        </div>
        <div>
          <label class="block font-medium mb-2">Mi√©rcoles</label>
          <select id="miercoles" class="w-full border rounded-lg p-3">
            <option>S√°ndwich integral, ensalada de frutas y jugo natural</option>
            <option>Yogurt con granola y frutas frescas</option>
            <option>Fresas con crema (versi√≥n saludable)</option>
            <option>Pancakes de avena con fruta fresca y miel</option>
            <option>Tacos de pollo desmechado, verdura salteada y limonada</option>
          </select>
        </div>
        <div>
          <label class="block font-medium mb-2">Jueves</label>
          <select id="jueves" class="w-full border rounded-lg p-3">
            <option>S√°ndwich integral, ensalada de frutas y jugo natural</option>
            <option>Yogurt con granola y frutas frescas</option>
            <option>Fresas con crema (versi√≥n saludable)</option>
            <option>Pancakes de avena con fruta fresca y miel</option>
            <option>Tacos de pollo desmechado, verdura salteada y limonada</option>
          </select>
        </div>
        <div>
          <label class="block font-medium mb-2">Viernes</label>
          <select id="viernes" class="w-full border rounded-lg p-3">
            <option>S√°ndwich integral, ensalada de frutas y jugo natural</option>
            <option>Yogurt con granola y frutas frescas</option>
            <option>Fresas con crema (versi√≥n saludable)</option>
            <option>Pancakes de avena con fruta fresca y miel</option>
            <option>Tacos de pollo desmechado, verdura salteada y limonada</option>
          </select>
        </div>
      </div>

      <button type="submit" class="bg-orange-600 hover:bg-orange-700 text-white px-6 py-3 rounded-lg shadow-md transition w-full">
        Confirmar Selecci√≥n
      </button>
    </form>

    <!-- HISTORIAL -->
    <div id="historial" class="mt-10 hidden">
      <h3 class="text-2xl font-bold text-orange-700 mb-4">Historial de Selecci√≥n</h3>
      <div id="historialLista" class="space-y-4"></div>
    </div>
  </section>

    <!-- FOOTER -->
  <footer class="mt-16 bg-orange-100 py-10">
    <div class="max-w-6xl mx-auto text-center px-4">
      <p class="text-lg md:text-xl text-orange-700 font-semibold">"Come para vivir, no vivas para comer. La alimentacion saludable es el camino hacia una vida plena y feliz."</p>
    </div>
  </footer>

  <script>
    const menuToggle = document.getElementById('menuToggle');
    const mobileMenu = document.getElementById('mobileMenu');
    const form = document.getElementById('menuForm');
    const historialDiv = document.getElementById('historial');
    const historialLista = document.getElementById('historialLista');

    menuToggle.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
    });


    document.addEventListener('click', (e) => {
    if (!mobileMenu.classList.contains('hidden') && 
        !mobileMenu.contains(e.target) && 
        e.target !== menuToggle) {
      mobileMenu.classList.add('hidden');
    }
    });

    // Cargar historial desde localStorage al iniciar
    let historial = JSON.parse(localStorage.getItem("historialMenus")) || [];
    renderHistorial();

    form.addEventListener('submit', (e) => {
      e.preventDefault();

      const nombre = document.getElementById('nombre').value;
      const edad = document.getElementById('edad').value;

      const dias = ["lunes","martes","miercoles","jueves","viernes"];
      let seleccion = {};

      dias.forEach(dia => {
        seleccion[dia] = document.getElementById(dia).value;
      });

      const registro = { nombre, edad, seleccion };
      historial.push(registro);

      localStorage.setItem("historialMenus", JSON.stringify(historial));

      renderHistorial();
      form.reset();
    });

    function renderHistorial() {
      historialLista.innerHTML = "";
      if (historial.length === 0) {
        historialDiv.classList.add("hidden");
        return;
      }

      historialDiv.classList.remove("hidden");

      historial.forEach((item, index) => {
        let seleccionHTML = "";
        for (let dia in item.seleccion) {
          const diaCapitalizado = dia.charAt(0).toUpperCase() + dia.slice(1);
          seleccionHTML += `<li><strong>${diaCapitalizado}:</strong> ${item.seleccion[dia]}</li>`;
        }

        const historialItem = document.createElement('div');
        historialItem.className = "bg-white p-4 rounded-lg shadow border-l-4 border-orange-500 flex justify-between items-start";
        historialItem.innerHTML = `
          <div>
            <p class="font-semibold">üë¶ ${item.nombre} (${item.edad} a√±os)</p>
            <ul class="list-disc list-inside text-gray-700 mt-2">${seleccionHTML}</ul>
          </div>
          <button class="ml-4 bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-md text-sm deleteBtn">Eliminar</button>
        `;

        historialItem.querySelector(".deleteBtn").addEventListener("click", () => {
          historial.splice(index, 1);
          localStorage.setItem("historialMenus", JSON.stringify(historial));
          renderHistorial();
        });

        historialLista.appendChild(historialItem);
      });

          // Men√∫ m√≥vil
      const menuToggle = document.getElementById('menuToggle');
      const mobileMenu = document.getElementById('mobileMenu');
      menuToggle.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
      });
    }
  </script>
</body>
</html>
